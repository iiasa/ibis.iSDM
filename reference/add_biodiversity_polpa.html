<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add biodiversity polygon dataset to a distribution object (presence-absence) — add_biodiversity_polpa • ibis.iSDM</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Add biodiversity polygon dataset to a distribution object (presence-absence) — add_biodiversity_polpa"><meta name="description" content="This function can be used to add a sf polygon dataset to an
existing distribution object. Presence-absence polygon data assumes that each
area within the polygon can be treated as 'presence' for the species, while
each area outside the polygon is where the species is absent."><meta property="og:description" content="This function can be used to add a sf polygon dataset to an
existing distribution object. Presence-absence polygon data assumes that each
area within the polygon can be treated as 'presence' for the species, while
each area outside the polygon is where the species is absent."><meta property="og:image" content="https://iiasa.github.io/ibis.iSDM/logo.png"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@Martin_Ecology"><meta name="twitter:site" content="@IIASAVienna"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ibis.iSDM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/01_data_preparationhelpers.html">1. Helper functions to prepare inputs</a></li>
    <li><a class="dropdown-item" href="../articles/02_train_simple_model.html">2. Train a model</a></li>
    <li><a class="dropdown-item" href="../articles/03_integrate_data.html">3. Integrate data</a></li>
    <li><a class="dropdown-item" href="../articles/04_biodiversity_projections.html">4. Biodiversity projections</a></li>
    <li><a class="dropdown-item" href="../articles/05_mechanistic_estimation.html">5. Simulating mechanisms</a></li>
    <li><a class="dropdown-item" href="../articles/06_engine_comparison.html">6. Engine comparison</a></li>
    <li><a class="dropdown-item" href="../articles/07_package_comparison.html">7. Other packages</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../articles/08_frequently-asked-questions.html">FAQ</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/contributing.html">Contributing</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/iiasa/ibis.iSDM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Add biodiversity polygon dataset to a distribution object (presence-absence)</h1>
      <small class="dont-index">Source: <a href="https://github.com/iiasa/ibis.iSDM/blob/dev/R/add_biodiversity.R" class="external-link"><code>R/add_biodiversity.R</code></a></small>
      <div class="d-none name"><code>add_biodiversity_polpa.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function can be used to add a <code>sf</code> polygon dataset to an
existing distribution object. Presence-absence polygon data assumes that each
area within the polygon can be treated as 'presence' for the species, while
each area outside the polygon is where the species is absent.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_biodiversity_polpa</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">polpa</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  field_occurrence <span class="op">=</span> <span class="st">"observed"</span>,</span>
<span>  formula <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  family <span class="op">=</span> <span class="st">"binomial"</span>,</span>
<span>  link <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weight <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  simulate <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  simulate_points <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  simulate_bias <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  simulate_strategy <span class="op">=</span> <span class="st">"random"</span>,</span>
<span>  separate_intercept <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  docheck <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  pseudoabsence_settings <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'BiodiversityDistribution,sf'</span></span>
<span><span class="fu">add_biodiversity_polpa</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">polpa</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  field_occurrence <span class="op">=</span> <span class="st">"observed"</span>,</span>
<span>  formula <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  family <span class="op">=</span> <span class="st">"binomial"</span>,</span>
<span>  link <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weight <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  simulate <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  simulate_points <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  simulate_bias <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  simulate_strategy <span class="op">=</span> <span class="st">"random"</span>,</span>
<span>  separate_intercept <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  docheck <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  pseudoabsence_settings <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p><code><a href="distribution.html">distribution()</a></code> (i.e. <code><a href="BiodiversityDistribution-class.html">BiodiversityDistribution</a></code>) object.</p></dd>


<dt id="arg-polpa">polpa<a class="anchor" aria-label="anchor" href="#arg-polpa"></a></dt>
<dd><p>A <code>sf</code> polygon object of presence-absence occurrences.</p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>The name of the biodiversity dataset used as internal identifier.</p></dd>


<dt id="arg-field-occurrence">field_occurrence<a class="anchor" aria-label="anchor" href="#arg-field-occurrence"></a></dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></code> or <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></code> location of biodiversity point records.</p></dd>


<dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></code> or <code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a></code> object to be passed.
Default (<code>NULL</code>) is to use all covariates .</p></dd>


<dt id="arg-family">family<a class="anchor" aria-label="anchor" href="#arg-family"></a></dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></code> stating the family to be used (Default: <code>binomial</code>).</p></dd>


<dt id="arg-link">link<a class="anchor" aria-label="anchor" href="#arg-link"></a></dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></code> to overwrite the default link function (Default: <code>NULL</code>).</p></dd>


<dt id="arg-weight">weight<a class="anchor" aria-label="anchor" href="#arg-weight"></a></dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></code> value acting as a multiplier with regards to any
weights used in the modelling. Larger weights indicate higher weighting
relative to any other datasets. By default set to <code>1</code> if only one
dataset is added. A <code><a href="https://rdrr.io/r/base/vector.html" class="external-link">vector</a></code> is also supported but must be of the same
length as <code>"polpa"</code>.</p></dd>


<dt id="arg-simulate">simulate<a class="anchor" aria-label="anchor" href="#arg-simulate"></a></dt>
<dd><p>Simulate poipa points within its boundaries. Result are
passed to <code><a href="add_biodiversity_poipa.html">add_biodiversity_poipa</a></code> (Default: <code>FALSE</code>).</p></dd>


<dt id="arg-simulate-points">simulate_points<a class="anchor" aria-label="anchor" href="#arg-simulate-points"></a></dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></code> number of points to be created by
simulation.</p></dd>


<dt id="arg-simulate-bias">simulate_bias<a class="anchor" aria-label="anchor" href="#arg-simulate-bias"></a></dt>
<dd><p>A <code>SpatRaster</code> layer describing an eventual preference
for simulation (Default: <code>NULL</code>).</p></dd>


<dt id="arg-simulate-strategy">simulate_strategy<a class="anchor" aria-label="anchor" href="#arg-simulate-strategy"></a></dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></code> stating the strategy for sampling.
Can be set to either. <code>'random'</code> or <code>'regular'</code>, the latter
requiring a raster supplied in the <code>'simulate_weights'</code> parameter.</p></dd>


<dt id="arg-separate-intercept">separate_intercept<a class="anchor" aria-label="anchor" href="#arg-separate-intercept"></a></dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a></code> value stating whether a separate
intercept is to be added in shared likelihood models for engines
<a href="engine_inla.html">engine_inla</a>, <a href="engine_inlabru.html">engine_inlabru</a> and <a href="engine_stan.html">engine_stan</a>.</p></dd>


<dt id="arg-docheck">docheck<a class="anchor" aria-label="anchor" href="#arg-docheck"></a></dt>
<dd><p><code><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a></code> on whether additional checks should be performed
(e.g. intersection tests) (Default: <code>TRUE</code>).</p></dd>


<dt id="arg-pseudoabsence-settings">pseudoabsence_settings<a class="anchor" aria-label="anchor" href="#arg-pseudoabsence-settings"></a></dt>
<dd><p>Either <code>NULL</code> or a
<code><a href="pseudoabs_settings.html">pseudoabs_settings()</a></code> created settings object.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Other parameters passed down.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Adds biodiversity data to <a href="distribution.html">distribution</a> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The default approach for polygon data is to sample presence-absence
points across the region of the polygons. This function thus adds as a
wrapper to <code><a href="add_biodiversity_poipa.html">add_biodiversity_poipa()</a></code> as presence-only points are created
by the model. Note if the polygon is used directly in the modelling the
link between covariates and polygonal data is established by regular
sampling of points within the polygon and is thus equivalent to simulating
the points directly.</p>
<p>For an integration of range data as predictor or offset, see <code><a href="add_predictor_range.html">add_predictor_range()</a></code>
and <code><a href="add_offset_range.html">add_offset_range()</a></code> instead.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other add_biodiversity:
<code><a href="add_biodiversity_poipa.html">add_biodiversity_poipa</a>()</code>,
<code><a href="add_biodiversity_poipo.html">add_biodiversity_poipo</a>()</code>,
<code><a href="add_biodiversity_polpo.html">add_biodiversity_polpo</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span> <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="distribution.html">distribution</a></span><span class="op">(</span><span class="va">background</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu">add_biodiversity_polpa</span><span class="op">(</span><span class="va">protectedArea</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Jung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

