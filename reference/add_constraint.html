<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add a constraint to an existing scenario — add_constraint • ibis.iSDM</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Add a constraint to an existing scenario — add_constraint"><meta name="description" content="This function adds a constrain to a
BiodiversityScenario object to constrain (future) projections.
These constrains can for instance be constraints on a possible dispersal
distance, connectivity between identified patches or limitations on species
adaptability.
Most constrains require pre-calculated thresholds to present in the BiodiversityScenario object!"><meta property="og:description" content="This function adds a constrain to a
BiodiversityScenario object to constrain (future) projections.
These constrains can for instance be constraints on a possible dispersal
distance, connectivity between identified patches or limitations on species
adaptability.
Most constrains require pre-calculated thresholds to present in the BiodiversityScenario object!"><meta property="og:image" content="https://iiasa.github.io/ibis.iSDM/logo.png"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@Martin_Ecology"><meta name="twitter:site" content="@IIASAVienna"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ibis.iSDM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/01_data_preparationhelpers.html">1. Helper functions to prepare inputs</a></li>
    <li><a class="dropdown-item" href="../articles/02_train_simple_model.html">2. Train a model</a></li>
    <li><a class="dropdown-item" href="../articles/03_integrate_data.html">3. Integrate data</a></li>
    <li><a class="dropdown-item" href="../articles/04_biodiversity_projections.html">4. Biodiversity projections</a></li>
    <li><a class="dropdown-item" href="../articles/05_mechanistic_estimation.html">5. Simulating mechanisms</a></li>
    <li><a class="dropdown-item" href="../articles/06_engine_comparison.html">6. Engine comparison</a></li>
    <li><a class="dropdown-item" href="../articles/07_package_comparison.html">7. Other packages</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../articles/08_frequently-asked-questions.html">FAQ</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/contributing.html">Contributing</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/iiasa/ibis.iSDM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Add a constraint to an existing <code>scenario</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/iiasa/ibis.iSDM/blob/dev/R/add_constraint.R" class="external-link"><code>R/add_constraint.R</code></a></small>
      <div class="d-none name"><code>add_constraint.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function adds a constrain to a
<code><a href="BiodiversityScenario-class.html">BiodiversityScenario</a></code> object to constrain (future) projections.
These constrains can for instance be constraints on a possible dispersal
distance, connectivity between identified patches or limitations on species
adaptability.</p>
<p><strong>Most constrains require pre-calculated thresholds to present in the <code><a href="BiodiversityScenario-class.html">BiodiversityScenario</a></code> object!</strong></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_constraint</span><span class="op">(</span><span class="va">mod</span>, <span class="va">method</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'BiodiversityScenario'</span></span>
<span><span class="fu">add_constraint</span><span class="op">(</span><span class="va">mod</span>, <span class="va">method</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-mod">mod<a class="anchor" aria-label="anchor" href="#arg-mod"></a></dt>
<dd><p>A <code><a href="BiodiversityScenario-class.html">BiodiversityScenario</a></code> object with specified predictors.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></code> indicating the type of constraints to be added
to the scenario. See details for more information.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>passed on parameters. See also the specific methods for adding
constraints.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Adds constraints data to a <code><a href="BiodiversityScenario-class.html">BiodiversityScenario</a></code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Constraints can be added to scenario objects to increase or decrease
the suitability of a given area for the target feature. This function acts
as a wrapper to add these constraints. Currently supported are the
following options:</p>
<p><strong>Dispersal</strong>:</p><ul><li><p><code>sdd_fixed</code> - Applies a fixed uniform dispersal distance per modelling timestep.</p></li>
<li><p><code>sdd_nexpkernel</code> - Applies a dispersal distance using a negative exponential kernel from its origin.</p></li>
<li><p><code>kissmig</code> - Applies the kissmig stochastic dispersal model. Requires <code>`kissmig`</code> package. Applied at each modelling time step.</p></li>
<li><p><code>migclim</code> - Applies the dispersal algorithm MigClim to the modelled objects. Requires <code>"MigClim"</code> package.</p></li>
</ul><p>A comprehensive overview of the benefits of including dispersal constrains in
species distribution models can be found in Bateman et al. (2013).</p>
<p><strong>Connectivity</strong>:</p><ul><li><p><code>hardbarrier</code> - Defines a hard barrier to any dispersal events. By
definition this sets all values larger
than <code>0</code> in the barrier layer to <code>0</code> in the projection. Barrier has
to be provided through the <code>"resistance"</code> parameter.</p></li>
<li><p><code>resistance</code> - Allows the provision of a static or dynamic layer that is
multiplied with the projection at each time step. Can for example be used to
reduce the suitability of any given area (using pressures not included in the model).
The respective layer(s) have to be provided through the <code>"resistance"</code> parameter.
Provided layers are incorporated as <code>abs(resistance - 1)</code> and multiplied with
the prediction.</p></li>
</ul><p><strong>Adaptability</strong>:</p><ul><li><p><code>nichelimit</code> - Specifies a limit on the environmental niche to only allow
a modest amount of extrapolation beyond the known occurrences. This can be particular
useful to limit the influence of increasing marginal responses and avoid biologically
unrealistic projections.</p></li>
</ul><p><strong>Boundary and size</strong>:</p><ul><li><p><code>boundary</code> - Applies a hard boundary constraint on the projection, thus
disallowing an expansion of a range outside the provide layer. Similar as specifying
projection limits (see <code><a href="distribution.html">distribution</a></code>), but can be used to specifically constrain a
projection within a certain area (e.g. a species range or an island).</p></li>
<li><p><code>minsize</code> - Allows to specify a certain size that must be satisfied in
order for a thresholded patch to be occupied. Can be thought of as a minimum
size requirement. See <code><a href="add_constraint_minsize.html">add_constraint_minsize()</a></code> for the required parameters.</p></li>
<li><p><code>threshold</code> - Applies the set threshold as a constrain directly on the
suitability projections. Requires a threshold to be set.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<ul><li><p>Bateman, B. L., Murphy, H. T., Reside, A. E., Mokany, K., &amp; VanDerWal, J. (2013).
Appropriateness of full‐, partial‐and no‐dispersal scenarios in climate change impact
modelling. Diversity and Distributions, 19(10), 1224-1234.</p></li>
<li><p>Nobis MP and Normand S (2014) KISSMig - a simple model for R to account for
limited migration in analyses of species distributions. Ecography 37: 1282-1287.</p></li>
<li><p>Mendes, P., Velazco, S. J. E., de Andrade, A. F. A., &amp; Júnior, P. D. M. (2020).
Dealing with overprediction in species distribution models: How adding distance
constraints can improve model accuracy. Ecological Modelling, 431, 109180.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other constraint:
<code><a href="add_constraint_MigClim.html">add_constraint_MigClim</a>()</code>,
<code><a href="add_constraint_adaptability.html">add_constraint_adaptability</a>()</code>,
<code><a href="add_constraint_boundary.html">add_constraint_boundary</a>()</code>,
<code><a href="add_constraint_connectivity.html">add_constraint_connectivity</a>()</code>,
<code><a href="add_constraint_dispersal.html">add_constraint_dispersal</a>()</code>,
<code><a href="add_constraint_minsize.html">add_constraint_minsize</a>()</code>,
<code><a href="add_constraint_threshold.html">add_constraint_threshold</a>()</code>,
<code><a href="simulate_population_steps.html">simulate_population_steps</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Assumes that a trained 'model' object exists</span></span></span>
<span class="r-in"><span> <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="scenario.html">scenario</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_predictors.html">add_predictors</a></span><span class="op">(</span>env <span class="op">=</span> <span class="va">predictors</span>, transform <span class="op">=</span> <span class="st">'scale'</span>, derivates <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_constraint_dispersal.html">add_constraint_dispersal</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"kissmig"</span>, value <span class="op">=</span> <span class="fl">2</span>, pext <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="project.html">project</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Jung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

