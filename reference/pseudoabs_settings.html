<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Settings for specifying pseudo-absence points within the model background — pseudoabs_settings • ibis.iSDM</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Settings for specifying pseudo-absence points within the model background — pseudoabs_settings"><meta name="description" content="This function defines the settings for pseudo-absence sampling
of the background. For many engines such points are necessary to model
Poisson (or Binomial) distributed point process data. Specifically we call
absence points for Binomial (Bernoulli really) distributed responses
'pseudo-absence' and absence data for Poisson responses
'background' points. For more details read Renner et al. (2015).
The function 'add_pseudoabsence' allows to add absence points to any
sf object. See Details for additional parameter description and
examples on how to 'turn' a presence-only dataset into a
presence-(pseudo-)absence."><meta property="og:description" content="This function defines the settings for pseudo-absence sampling
of the background. For many engines such points are necessary to model
Poisson (or Binomial) distributed point process data. Specifically we call
absence points for Binomial (Bernoulli really) distributed responses
'pseudo-absence' and absence data for Poisson responses
'background' points. For more details read Renner et al. (2015).
The function 'add_pseudoabsence' allows to add absence points to any
sf object. See Details for additional parameter description and
examples on how to 'turn' a presence-only dataset into a
presence-(pseudo-)absence."><meta property="og:image" content="https://iiasa.github.io/ibis.iSDM/logo.png"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@Martin_Ecology"><meta name="twitter:site" content="@IIASAVienna"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ibis.iSDM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/01_data_preparationhelpers.html">1. Helper functions to prepare inputs</a></li>
    <li><a class="dropdown-item" href="../articles/02_train_simple_model.html">2. Train a model</a></li>
    <li><a class="dropdown-item" href="../articles/03_integrate_data.html">3. Integrate data</a></li>
    <li><a class="dropdown-item" href="../articles/04_biodiversity_projections.html">4. Biodiversity projections</a></li>
    <li><a class="dropdown-item" href="../articles/05_mechanistic_estimation.html">5. Simulating mechanisms</a></li>
    <li><a class="dropdown-item" href="../articles/06_engine_comparison.html">6. Engine comparison</a></li>
    <li><a class="dropdown-item" href="../articles/07_package_comparison.html">7. Other packages</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../articles/08_frequently-asked-questions.html">FAQ</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/contributing.html">Contributing</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/iiasa/ibis.iSDM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Settings for specifying pseudo-absence points within the model background</h1>
      <small class="dont-index">Source: <a href="https://github.com/iiasa/ibis.iSDM/blob/dev/R/pseudoabsence.R" class="external-link"><code>R/pseudoabsence.R</code></a></small>
      <div class="d-none name"><code>pseudoabs_settings.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function defines the settings for pseudo-absence sampling
of the background. For many engines such points are necessary to model
Poisson (or Binomial) distributed point process data. Specifically we call
absence points for Binomial (Bernoulli really) distributed responses
<code>'pseudo-absence'</code> and absence data for Poisson responses
<code>'background'</code> points. For more details read Renner et al. (2015).</p>
<p>The function <code>'add_pseudoabsence'</code> allows to add absence points to any
<code>sf</code> object. See <strong>Details</strong> for additional parameter description and
examples on how to 'turn' a presence-only dataset into a
presence-(pseudo-)absence.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pseudoabs_settings</span><span class="op">(</span></span>
<span>  background <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nrpoints <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  min_ratio <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"random"</span>,</span>
<span>  buffer_distance <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  inside <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bias <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ANY'</span></span>
<span><span class="fu">pseudoabs_settings</span><span class="op">(</span></span>
<span>  background <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nrpoints <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  min_ratio <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"random"</span>,</span>
<span>  buffer_distance <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  inside <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bias <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-background">background<a class="anchor" aria-label="anchor" href="#arg-background"></a></dt>
<dd><p>A <code><a href="https://rspatial.github.io/terra/reference/SpatRaster-class.html" class="external-link">SpatRaster</a></code> or <code>sf</code> object over which background
points can be sampled. Default is <code>NULL</code> (Default) and the background
is then added when the sampling is first called.</p></dd>


<dt id="arg-nrpoints">nrpoints<a class="anchor" aria-label="anchor" href="#arg-nrpoints"></a></dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></code> given the number of absence points to be
created. Has to be larger than <code>0</code> and normally points are not created
in excess of the number of cells of the background (Default: <code>10000</code>).</p></dd>


<dt id="arg-min-ratio">min_ratio<a class="anchor" aria-label="anchor" href="#arg-min-ratio"></a></dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></code> with the minimum ratio of background points
relative to the presence points. Setting this value to <code>1</code> generates
an equal amount of absence points relative to the presence points. Usually
ignored unless the ratio exceeds the <code>nrpoints</code> parameters (Default: <code>0.25</code>).</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p><code><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></code> denoting how the sampling should be done. See
details for options (Default: <code>"random"</code>).</p></dd>


<dt id="arg-buffer-distance">buffer_distance<a class="anchor" aria-label="anchor" href="#arg-buffer-distance"></a></dt>
<dd><p><code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></code> A distance from the observations in which
pseudo-absence points are not to be generated. Note that units follow the
units of the projection (e.g. <code>m</code> or <code>°</code>). Only used when <code>method = "buffer"</code>.</p></dd>


<dt id="arg-inside">inside<a class="anchor" aria-label="anchor" href="#arg-inside"></a></dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a></code> value of whether absence points should be sampled
outside (Default) or inside a minimum convex polygon or range provided the
respective method is chosen (parameter <code>method = "mcp"</code> or <code>method = "range"</code>).</p></dd>


<dt id="arg-layer">layer<a class="anchor" aria-label="anchor" href="#arg-layer"></a></dt>
<dd><p>A <code>sf</code> or <code><a href="https://rspatial.github.io/terra/reference/SpatRaster-class.html" class="external-link">SpatRaster</a></code> (in the case of method <code>'zones'</code>)
object indicating the range of a species. Only used with <code>method = "range"</code>
or <code>method = "zones"</code> (Default: <code>NULL</code>).</p></dd>


<dt id="arg-bias">bias<a class="anchor" aria-label="anchor" href="#arg-bias"></a></dt>
<dd><p>A <code><a href="https://rspatial.github.io/terra/reference/SpatRaster-class.html" class="external-link">SpatRaster</a></code> with the same extent and projection and background.
Absence points will be preferentially sampled in areas with higher (!) bias. (Default: <code>NULL</code>).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Any other settings to be added to the pseudoabs settings.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>There are multiple methods available for sampling a biased
background layer. Possible parameters for <code>method</code> are:</p><ul><li><p><code>'random'</code> Absence points are generated randomly over the background (Default),</p></li>
<li><p><code>'buffer'</code> Absence points are generated only within a buffered distance of existing points.
This option requires the specification of the parameter
<code>buffer_distance</code>.</p></li>
<li><p><code>'mcp'</code> Can be used to only generate absence points within or outside a
minimum convex polygon of the presence points. The parameter <code>inside</code>
specifies whether points should be sampled inside or outside (Default) the
minimum convex polygon.</p></li>
<li><p><code>'range'</code> Absence points are created either inside or outside a provided additional
layer that indicates for example a range of species (controlled through
parameter <code>inside</code>).</p></li>
<li><p><code>'zones'</code> A ratified (e.g. of type <a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a>) <code><a href="https://rspatial.github.io/terra/reference/SpatRaster-class.html" class="external-link">SpatRaster</a></code> layer depicting zones from which absence
points are to be sampled. This method checks which points fall within which
zones and then samples absence points either within or outside these zones
exclusively. Both <code>'layer'</code> and <code>'inside'</code> have to be set for this
option.</p></li>
<li><p><code>'target'</code> Make use of a target background for sampling absence points.
Here a <code><a href="https://rspatial.github.io/terra/reference/SpatRaster-class.html" class="external-link">SpatRaster</a></code> object has to be provided through the parameter <code>'layer'</code>.
Absence points are then sampled exclusively within the target areas for grid
cells with non-zero values.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<ul><li><p>Renner IW, Elith J, Baddeley A, Fithian W, Hastie T, Phillips SJ, Popovic G,
Warton DI. 2015. Point process models for presence-only analysis. Methods in
Ecology and Evolution 6:366–379. DOI: 10.1111/2041-210X.12352.</p></li>
<li><p>Renner, I. W., &amp; Warton, D. I. (2013). Equivalence of MAXENT and Poisson point
process models for species distribution modeling in ecology. Biometrics,
69(1), 274-281.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># This setting generates 10000 pseudo-absence points outside the</span></span></span>
<span class="r-in"><span><span class="co"># minimum convex polygon of presence points</span></span></span>
<span class="r-in"><span><span class="va">ass1</span> <span class="op">&lt;-</span> <span class="fu">pseudoabs_settings</span><span class="op">(</span>nrpoints <span class="op">=</span> <span class="fl">10000</span>, method <span class="op">=</span> <span class="st">'mcp'</span>, inside <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This setting would match the number of presence-absence points directly.</span></span></span>
<span class="r-in"><span><span class="va">ass2</span> <span class="op">&lt;-</span> <span class="fu">pseudoabs_settings</span><span class="op">(</span>nrpoints <span class="op">=</span> <span class="fl">0</span>, min_ratio <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># These settings can then be used to add pseudo-absence data to a</span></span></span>
<span class="r-in"><span><span class="co"># presence-only dataset. This effectively adds these simulated absence</span></span></span>
<span class="r-in"><span><span class="co"># points to the resulting model</span></span></span>
<span class="r-in"><span><span class="va">all_my_points</span> <span class="op">&lt;-</span> <span class="fu"><a href="add_pseudoabsence.html">add_pseudoabsence</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                     df <span class="op">=</span> <span class="va">virtual_points</span>,</span></span>
<span class="r-in"><span>                      field_occurrence <span class="op">=</span> <span class="st">'observed'</span>,</span></span>
<span class="r-in"><span>                      template <span class="op">=</span> <span class="va">background</span>,</span></span>
<span class="r-in"><span>                      settings <span class="op">=</span> <span class="va">ass1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Jung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

