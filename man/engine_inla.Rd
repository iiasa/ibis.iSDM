% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/engine_inla.R
\name{engine_inla}
\alias{engine_inla}
\title{Use INLA as engine}
\usage{
engine_inla(
  x,
  optional_mesh = NULL,
  optional_projstk = NULL,
  max.edge = NULL,
  offset = NULL,
  cutoff = NULL,
  proj_stepsize = NULL,
  timeout = NULL,
  strategy = "auto",
  int.strategy = "eb",
  barrier = FALSE,
  type = "response",
  area = "gpc2",
  nonconvex.bdry = FALSE,
  nonconvex.convex = -0.15,
  nonconvex.concave = -0.05,
  nonconvex.res = 40,
  ...
)
}
\arguments{
\item{x}{\code{\link[=distribution]{distribution()}} (i.e. \code{\linkS4class{BiodiversityDistribution}}) object.}

\item{optional_mesh}{A directly supplied \code{"INLA"} mesh (Default:
\code{NULL})}

\item{optional_projstk}{A directly supplied projection stack. Useful if
projection stack is identical for multiple species (Default: \code{NULL})}

\item{max.edge}{The largest allowed triangle edge length, must be in the same
scale units as the coordinates. Default is an educated guess (Default:
\code{NULL}).}

\item{offset}{interpreted as a numeric factor relative to the approximate
data diameter. Default is an educated guess (Default: \code{NULL}).}

\item{cutoff}{The minimum allowed distance between points on the mesh.
Default is an educated guess (Default: \code{NULL}).}

\item{proj_stepsize}{The stepsize in coordinate units between cells of the
projection grid (Default: \code{NULL}).}

\item{timeout}{Specify a timeout for INLA models in sec. Afterwards it
passed.}

\item{strategy}{Which approximation to use for the joint posterior. Options
are \code{"auto"} ("default"), \code{"adaptative"}, \code{"gaussian"},
\code{"simplified.laplace"} & \code{"laplace"}.}

\item{int.strategy}{Integration strategy. Options are
\code{"auto"},\code{"grid"}, \code{"eb"} ("default") & \code{"ccd"}. See
also https://groups.google.com/g/r-inla-discussion-group/c/hDboQsJ1Mls}

\item{barrier}{Should a barrier model be added to the model?}

\item{type}{The mode used for creating posterior predictions. Either
summarizing the linear \code{"predictor"} or \code{"response"} (Default:
\code{"response"}).}

\item{area}{Accepts a \code{\link{character}} denoting the type of area calculation to
be done on the mesh (Default: \code{'gpc2'}).}

\item{nonconvex.bdry}{Create a non-convex boundary hulls instead (Default:
\code{FALSE}) \strong{Not yet implemented}}

\item{nonconvex.convex}{Non-convex minimal extension radius for convex
curvature \strong{Not yet implemented}}

\item{nonconvex.concave}{Non-convex minimal extension radius for concave
curvature \strong{Not yet implemented}}

\item{nonconvex.res}{Computation resolution for nonconvex.hulls \strong{Not yet
implemented}}

\item{...}{Other options.}
}
\value{
An engine.
}
\description{
Allows a full Bayesian analysis of linear and additive models
using Integrated Nested Laplace approximation. Engine has been largely
superceded by the \code{\link{engine_inlabru}} package and users are advised to us this
one, unless specific options are required.
}
\details{
All \code{INLA} engines require the specification of a mesh that
needs to be provided to the \code{"optional_mesh"} parameter. Otherwise the
mesh will be created based on best guesses of the data spread. A good mesh
needs to have triangles as regular as possible in size and shape:
equilateral.

\link{*} \code{"max.edge"}: The largest allowed triangle edge length, must be in
the same scale units as the coordinates Lower bounds affect the density of
triangles \link{*} \code{"offset"}: The automatic extension distance of the mesh
If positive: same scale units. If negative, interpreted as a factor relative
to the approximate data diameter i.e., a value of -0.10 will add a 10\% of the
data diameter as outer extension. \link{*} \code{"cutoff"}: The minimum allowed
distance between points, it means that points at a closer distance than the
supplied value are replaced by a single vertex. it is critical when there are
some points very close to each other, either for point locations or in the
domain boundary. \link{*} \code{"proj_stepsize"}: The stepsize for spatial
predictions, which affects the spatial grain of any outputs created.

Priors can be set via \link{INLAPrior}.
}
\note{
\strong{How INLA Meshes are generated, substantially influences prediction outcomes. See Dambly et al. (2023).}
}
\examples{
\dontrun{
# Add INLA as an engine (with a custom mesh)
x <- distribution(background) |> engine_inla(mesh = my_mesh)
}
}
\references{
\itemize{
\item Havard Rue, Sara Martino, and Nicholas Chopin (2009), Approximate Bayesian Inference for Latent Gaussian Models Using Integrated Nested Laplace Approximations (with discussion), Journal of the Royal Statistical Society B, 71, 319-392.
\item Finn Lindgren, Havard Rue, and Johan Lindstrom (2011). An Explicit Link Between Gaussian Fields and Gaussian Markov Random Fields: The Stochastic Partial Differential Equation Approach (with discussion), Journal of the Royal Statistical Society B, 73(4), 423-498.
\item Simpson, Daniel, Janine B. Illian, S. H. Sørbye, and Håvard Rue. 2016. “Going Off Grid: Computationally Efficient Inference for Log-Gaussian Cox Processes.” Biometrika 1 (103): 49–70.
\item Dambly, L. I., Isaac, N. J., Jones, K. E., Boughey, K. L., & O'Hara, R. B. (2023). Integrated species distribution models fitted in INLA are sensitive to mesh parameterisation. Ecography, e06391.
}
}
\seealso{
Other engine: 
\code{\link{engine_bart}()},
\code{\link{engine_breg}()},
\code{\link{engine_gdb}()},
\code{\link{engine_glmnet}()},
\code{\link{engine_inlabru}()},
\code{\link{engine_stan}()},
\code{\link{engine_xgboost}()}
}
\concept{engine}
